(()=>{"use strict";function t(t,e,o){document.addEventListener(t,(t=>{t.target.matches(e)&&o(t)}))}const e={project:document.querySelector('[data-template="project"')};function o(t){c(t),r()}const n={body:document.body,sideMenu:document.querySelector("[data-side-menu]"),overlay:document.getElementById("overlay"),projectsContainer:document.getElementById("projects-container"),projectNameInput:document.getElementById("input-project-name"),projectColorInput:document.getElementById("input-project-color")};function c(t){null!=t&&t.classList.remove("modal--active")}function r(){null!=n.overlay&&n.overlay.classList.remove("active")}class a{constructor(t,e){this.name=t,this.color=e,this.id=Date.now(),this.todoList=[]}}t("click","[data-header-toggle]",(function(){null!=n.sideMenu&&(window.matchMedia("(min-width: 768px)").matches?(n.body.classList.toggle("desktop-open"),n.sideMenu.classList.remove("mobile-open")):(n.body.classList.contains("desktop-open")||n.body.classList.add("desktop-open"),n.sideMenu.classList.toggle("mobile-open")))})),t("click","[data-modal-target]",(t=>{(function(t){null!=t&&t.classList.add("modal--active")})(document.querySelector(t.target.dataset.modalTarget)),null!=n.overlay&&n.overlay.classList.add("active")})),t("click","#overlay",(function(){document.querySelectorAll(".modal--active").forEach((t=>{c(t)})),r()})),t("click",'[data-btn="close-modal"]',(t=>{o(t.target.closest(".modal"))})),t("submit",'[data-form="create-project"]',(function(t){t.preventDefault();const c=t.target,r={name:n.projectNameInput.value,color:n.projectColorInput.options[n.projectColorInput.selectedIndex].dataset.cssColor};if(!function(t){return null!=t.name&&""!==t.name.trim()}(r))return;const s=function(t){const e={...t};return e.name=e.name.trim(),e}(r),d=new a(s.name,s.color);l.push(d),function(t){const o=function(t){const o=function(t){if(null!=t)return document.importNode(t.content,!0)}(e.project),n=o.querySelector(".project-name"),c=o.querySelector(".project-color"),r=o.querySelector(".todo-count");return o.querySelector(".project").dataset.projectId=t.id,n.textContent=t.name,r.textContent=t.todoList.length,c.style.color=t.color,o}(t);n.projectsContainer.appendChild(o)}(d),c.reset(),o(c.closest(".modal"))}));const l=[]})();